<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head><title>A and G Company</title>
<meta http-equiv="content-type" content="text/html;charset=utf-8" />  

<script language="JavaScript">

//global variables
var username;
var password;

// Called by server using Ajax HttpRequest when server returns data
function handleHttpResponse() {
  var returned_total;
  // response=4 means server completed request
  if (http.readyState == 4) {
       // comma separated data received, split into array
       results = http.responseText.split(",");
       // If data returned
		// data from PHP returned in this order
         message = results[0];   // must be first (may be error message)


	   // put data on screen (error message from PHP)
	   document.getElementById("message").innerHTML =  message;
       }
  }  // end if state 4


function login(){

//make sure php is getting called
	   //document.getElementById("message").innerHTML =  "Login pressed";
//Create the XMLHttpRequest Object
  var xmlhttp;
  // error handling
  if (!xmlhttp && typeof XMLHttpRequest != 'undefined') {
    try {
      xmlhttp = new XMLHttpRequest();
    } catch (e) {
      xmlhttp = false;
    }
  }
  http = xmlhttp;

    // The PHP server script, called with N/V pair with GET request
    // Using get request the NV pairs follow "?" 
    // execute php on server passing it the n/v pairs
    // that follow the "?"
    var url = "login.php?"; 
    
    // for this example, only pass to PHP username and password
    // "&" separates n/v pairs
    
    var username = document.lForm.lUsername.value;
    var password = document.lForm.lPassword.value;
    var usernameData="&username="+username;
    var passwordData="&password="+password;

	http.open("GET", url+usernameData+passwordData, true);  

    // register with server what function to return data
    http.onreadystatechange = handleHttpResponse;
    // send request to server
    http.send(null);
	
	 
}
function register(){

//make sure php is getting called
	   //document.getElementById("message").innerHTML =  "Login pressed";
//Create the XMLHttpRequest Object
  var xmlhttp;
  // error handling
  if (!xmlhttp && typeof XMLHttpRequest != 'undefined') {
    try {
      xmlhttp = new XMLHttpRequest();
    } catch (e) {
      xmlhttp = false;
    }
  }
  http = xmlhttp;

    // The PHP server script, called with N/V pair with GET request
    // Using get request the NV pairs follow "?" 
    // execute php on server passing it the n/v pairs
    // that follow the "?"
    var url = "register.php?"; 
    
    // for this example, only pass to PHP username and password
    // "&" separates n/v pairs
    
    var username = document.lForm.rUsername.value;
    var password = document.lForm.rPassword.value;
    var usernameData="&username="+username;
    var passwordData="&password="+password;

	http.open("GET", url+usernameData+passwordData, true);  

    // register with server what function to return data
    http.onreadystatechange = handleHttpResponse;
    // send request to server
    http.send(null);
	
	 
}

</script>
<center>
<h1>A and G Company</h1>
<form name="lForm">
<table>
<tr>      
<th>Login</th><th><input value="Login" onclick="login();" type="button">
</th>
<th>Register</th>
<th><input value="Register" onclick="register();" type="button"></th>
</tr>
<tr>
<th>Username:
</th><th><input name="lUsername" size="20" value=""  type="text"></th>
<th>Username
</th><th><input name="rUsername" size="20" value=""  type="text"></th>
</tr>
<tr>
<th>Password:
</th><th><input name="lPassword" size="20" value=""  type="password"></th>
<th>Password:
</th><th><input name="rPassword" size="20" value=""  type="password"></th>
</tr>
</table>
</form>


<div id="message">
A and G Company
</div>
</center>
</body></html>

